# Code Quality Standards

## C++ Standards
- Use C++20 features appropriately
- Follow RAII principles
- Use smart pointers when appropriate
- Avoid raw pointers unless necessary

## Thread Safety
- Use `std::atomic` for shared state
- GTK operations only on main thread
- Use `dp.emit()` for thread-safe GTK calls
- Proper mutex usage when needed

## Memory Management
- No memory leaks
- Proper resource cleanup in destructors
- Use RAII for automatic cleanup
- Avoid circular references

## Error Handling
- Check return values
- Handle exceptions gracefully
- Use appropriate logging levels
- Provide fallback behavior

## Performance
- Minimize resource usage
- Efficient algorithms
- Avoid unnecessary allocations
- Use move semantics when appropriate

## Documentation
- Inline comments for complex logic
- Function documentation
- Configuration examples
- Architecture decisions documented

## Testing
- All features must be testable
- Test edge cases
- Verify error conditions
- Performance testing for critical paths

## Logging Standards
- `spdlog::trace` - Detailed debugging (mouse position, etc.)
- `spdlog::debug` - General debugging
- `spdlog::info` - Important information
- `spdlog::warn` - Warnings
- `spdlog::error` - Errors

## Code Style
- Follow waybar's existing style
- Consistent naming conventions
- Proper indentation
- Meaningful variable names
